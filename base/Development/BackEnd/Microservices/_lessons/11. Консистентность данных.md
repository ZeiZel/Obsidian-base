

## Саги консистентность данных

Когда нам нужно выполнить операцию, которая затронет сразу несколько МС, и при этом сохранить состояния между всеми сервисами, стоит обратить внимание на саги. 

Транзакция данных в монолите не ломает консистентность данных, так как она происходит в одном приложении и агрегирует данные внутри себя.

![](_png/Pasted%20image%2020250202200121.png)

Но когда мы переходим в плоскость МС, у нас встаёт проблема с тем, что наша транзакция должна пройти по нескольким сервисам и вернуть сови определённые результаты. 

![](_png/Pasted%20image%2020250202201256.png)

3:20







## Паттерн State









## Код Подготовка саги









## Код Состояния саги









## Упражнение Доработка состояний









## Код Реализация Commands









## Код Доменные события








