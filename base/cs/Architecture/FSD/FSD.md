---
tags: architecture, fsd
---

## Введение

Feature Slice Design — архитектурная методология для проектирования фронт-энд приложений

Является набором правил и соглашений для организации кода.

Этот подход очень удобен, так как призван: 
- позволять легко масштабировать проект
- повысить качество кода
- упростить поддержку и погружение в код новых разработчиков
- коннектить код и бизнес-логику

Важным отличием от других подходов является то, что мы отталкиваемся не от вида или назначения компонента, а от доменной области, в рамках которой мы решаем проблемы.

В отличие от классического подхода, когда мы организуем код как: `components`, `pages`, `views`, `hooks` - тут мы применяем фиксированный набор слоёв (app, process, pages, widgets, features, entities, shared), поделённых на сегменты. Сегменты включают три уровня: слои (layers), слайсы (slices) и сегменты (segments). 

![](_png/f5fe1cdff167a3fce7ede416ab165a35.png)

## Окружение

## Введение в FSD

FSD позволяет следовать всем канонам ООП за счёт своей структуры. 
Public API предоставляет доступ только к нужным файлам из нашей целевой папки

![](_png/fcff5795fae57246db44193611de41ec.png)

### Layers

1. `shared` — переиспользуемый код, не имеющий отношения к специфике приложения/бизнеса.(например, UIKit, libs, API)
2. `entities` (сущности) — бизнес-сущности.(например, User, Product, Order)
3. `features` (фичи) — взаимодействия с пользователем, действия, которые несут бизнес-ценность для пользователя.(например, SendComment, AddToCart, UsersSearch)
4. `widgets` (виджеты) — композиционный слой для соединения сущностей и фич в самостоятельные блоки(например, IssuesList, UserProfile).
5. `pages` (страницы) — композиционный слой для сборки полноценных страниц из сущностей, фич и виджетов.
6. `processes` (процессы, устаревший слой) — сложные сценарии, покрывающие несколько страниц.(например, авторизация)
7. `app` — настройки, стили и провайдеры для всего приложения.

![](_png/018eb1d66f6fc2228eac0c6d85291f59.png)

Модули на одном слое могут взаимодействовать лишь с модулями, находящимися на слоях строго ниже.

![](_png/b370723e9977d8f2edd060ccd4fcf88f.png)

### Slices



![](_png/6217bfc60a6a42689db9f8fe8474d4d0.png)



![](_png/1b6fb4ba3cf0266436a559843fe09402.png)



![](_png/505c725c4cadb46e7c7c152b08e7107d.png)



![](_png/badbf5a6ef5811b3a5d38983d9e9227f.png)

### Segments

Сегменты группируют код по его назначению
Название сегмента — описание кода, который там лежит

![](_png/e00397b708cc8b8b7e43de6884a5b0f9.png)



![](_png/5626f2f154f29066b1159b04f6e40b02.png)

## Pages и App

В идеале, она должна состоять просто из виджетов, которые уже в своих рамках реализуют нужную функциональность для пользователя

![](_png/ccb5ac5dacfd1a0d029522f9899a61a7.png)

Слой приложения хранит в себе чисто все нужные компоненты, которые отвечают за entry-point или входную точку приложения

![](_png/120e5cdf9c90ff37dd7d977e268a1078.png)

### О слое App
### Старт проекта
### Подготовка слоя App
### Обзор проекта
### О слое Pages
### Структура роутинга
### Выделение slice
### Создание первой страницы
### Добавление стилей
### Layout




## Shared


Shared вмещает в себя весь переиспользуемый контент по приложению. В него стоит поместить конфиги, инстансы API, ассеты, утилиты, хуки, константы и разного вида кнопки, инпуты, свитчеры в ui

![](_png/2088fec3464b3d31e844b4e3cfee9de1.png)


## Инструменты FSD

## Entities

## Features


Фича - это отдельная функциональность, которая приводит к определённому результату (кнопка, которая получает состояние подписки и позволяет отписаться или подписаться, лайк/убрать лайк, дизлайк/убрать дизлайк, тугглер темы или свитчер языка) 

Он так же может хранить те же самые сегменты, что и остальные модули

![](_png/cbc8276b3c58523df3ee0f91f7df4386.png)

## Widgets

Они представляют собой отдельные части страницы - хедер, футер, сайдбар, отдельный пост

![](_png/d15490886c055b3f6f2cfe559874e802.png)

## Работа с фреймворками
### Next
### Vue
### Nuxt
### Angular
### Sveltekit

## Примечания

Так выглядит структура папок уже у конкретной сущности 
Она хранит свои компоненты, константы, хелперы, которые нужны только ей и отдаёт наружу только компоненты, которые могут пригодиться в слоях выше
Мапперы подготавливают данные для отправки на сервер или для вывод на фронтенде

![](_png/a915f51a7002a6df44c0f65c44ab9886.png)

Как можно определить, к какому слою должен относиться компонент?

![](_png/bc621c3b33b7751abf0904df9575e6be.png)

А тут уже располагаются примеры тех компонентов, которые могут находиться в определённых слоях:
- shared - переиспользуемые отдельные блоки, которые мы можем вынести в другое приложение
- entity - общий компонент пост, который подходит под посты пользователей, групп и который имеет место под текст, фавиконку и не имеет фичей (тех же лайков и пересылки сообщений), потому что они могут отличаться по реализации в зависимости от разных постов
- features - бизнес-действия пользователя - лайк, репост, удалить, изменить комментарий, добавить его
- widgets - блок с соединённой сущностью и фичёй
- pages - цельная страница, которая должна состоять из виджетов

![](_png/e0175e2e7975badb209fb7ea461d7c4c.png)
