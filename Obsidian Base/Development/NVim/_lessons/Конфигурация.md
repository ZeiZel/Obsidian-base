
### Путь конфигурации

Чтобы узнать путь до папки с конфигурацией nvim, можно ввести команду `:echo stdpath('config')`

![](_png/Pasted%20image%2020240919210001.png)

NeoVim при инициализации смотрит на свой путь конфигурации. По этому пути он ищет файл `init.lua`, который является точной входа в свою конфигурацию.

Сам по себе конфиг представляет из себя программу, на которую вим выполняет внутри себя.

`.config > init.lua`
```lua
print('Привет!')
```

![](_png/Pasted%20image%2020240919210700.png)

### Структура конфигурации

Структура конфигурации выглядит следующим образом:

- `init.lua` - наш стартовый bootstrap файл
- `lua` - общая папка для всех конфигураций
- `lua/core` - ключевые вещи (цвета, маппинги, конфигурации)
- `lua/plugins` - отдельные файлы для каждого плагина

![](_png/Pasted%20image%2020240921131733.png)

Далее нам нужно создать файл с нашими базовыми конфигами в следующей папке:

`lua / core / configs.lua`
```lua
print("Configs!")
```

И теперь остаётся только импортировать модуль. Папка `lua` будет установлена по дефолту

`init.lua`
```lua
require("core.configs")
```

![](_png/Pasted%20image%2020240921132751.png)

### Базовые настройки

Для изменения базовых настроек вима, нам нужно обращаться к таблице `vim`. Все базовые настройки мы храним в `configs.lua`.

`lua / core / configs.lua`
```lua
-- настройка номеров колонок
vim.wo.number = true
vim.wo.relativenumber = true

-- настройка поведения мыши
vim.opt.mouse = "a"
vim.opt.mousefocus = true

-- подключение к системному клиборду
vim.opt.clipboard = "unnamedplus"

-- описание табуляции
vim.opt.shiftwidth = 4
vim.opt.tabstop = 4
vim.opt.softtabstop = 4

-- другие настройки
vim.opt.scrolloff = 8
vim.opt.wrap = false
vim.opt.termguicolors = true

-- заполнение символов вима
vim.opt.fillchars = {
	vert = "│",
	fold = "⠀",
	eob = " ", -- suppress ~ at EndOfBuffer
	-- diff = "⣿", -- alternatives = ⣿ ░ ─ ╱
	msgsep = "‾",
	foldopen = "▾",
	foldsep = "│",
	foldclose = "▸",
}
```

### Сочетания клавиш

Далее добавим альтернативные сочетания клавиш

`leader` - это главная клавиша, которую мы используем для ключевых действий
`<CR>` - это обозначение завершения команды

Через `=` мы перезаписываем сочетание, а через `set` мы добавляем новое без перезаписывания старого

`lua / core / mappings.lua`
```lua
-- установка leader-клавиши в пробел
vim.g.mapleader = " "

-- биндим выход из режим на jj
vim.keymap.set("i", "jj", "<Esc>")

-- Устанавливаем сохранение файла с :w на leader+w
vim.keymap.set("n", "<leader>w", ":w<CR>")

-- Устанавливаем дефолтный кейбиндинг для Neotree плагина 
vim.keymap.set("n", "<leader>e", ":Neotree left toggle reveal<CR>")

-- Навигация
vim.keymap.set("n", "<c-k>", ":wincmd k<CR>")
vim.keymap.set("n", "<c-j>", ":wincmd j<CR>")
vim.keymap.set("n", "<c-h>", ":wincmd h<CR>")
vim.keymap.set("n", "<c-l>", ":wincmd l<CR>")

-- Настройка деления экрана
vim.keymap.set("n", "|", ":vsplit<CR>")
vim.keymap.set("n", "\\", ":split<CR>")

-- Настройка табуляции
vim.keymap.set("n", "<Tab>", ":BufferLineCycleNext<CR>")
vim.keymap.set("n", "<s-Tab>", ":BufferLineCyclePrev<CR>")
vim.keymap.set("n", "<leader>x", ":BufferLinePickClose<CR>")
vim.keymap.set("n", "<c-x>", ":BufferLineCloseOthers<CR>")
```

Дальше нужно установить маппинги в инициализирующий файл

`init.lua`
```lua
-- Basic Config
require("core.configs")
require("core.mappings")
```

### Split окон


#### Введение

- В реальной работе часто нужно одно­временно открывать несколько файлов или буферов.
- В Vim это реализуется через сплиты (разделенные окна), в отличие от вкладок в классических блокнотах.

#### Открытие Сплит-Окон

- Команда: `:split` (или коротко `:sp`) — разде­лит экран горизонтально.
- Перемещение между окнами: `Ctrl-W`
    - `J` (вниз), `K` (вверх), `H` (влево), `L` (вправо).

#### Виды Сплитов

- **Горизонтальный сплит**: `:split`
- **Вертикальный сплит**: `:vsplit` (или коротко `:vsp`)

#### Примеры использования

- Открытие буферов в разных сплитах, можно использовать для редактирования разных файлов одновременно.
- Например: `:e file1.txt :vsplit file2.txt :split file3.txt`

#### Закрытие Сплит-Окон

- Команда: `:q` (или просто `:wq`, если нужно сохранить изменения).

#### Упрощение навигации между сплитами

- Можно настроить перемещение через одни клавиши: `Ctrl-H`, `Ctrl-J`, `Ctrl-K`, `Ctrl-L`.


### Менеджер плагинов



`lua / core / configs.lua`
```lua
-- Bootstrap lazy.nvim
local lazypath = vim.fn.stdpath("data") .. "/lazy/lazy.nvim"
if not (vim.uv or vim.loop).fs_stat(lazypath) then
	local lazyrepo = "https://github.com/folke/lazy.nvim.git"
	local out = vim.fn.system({ "git", "clone", "--filter=blob:none", "--branch=stable", lazyrepo, lazypath })
	if vim.v.shell_error ~= 0 then
		vim.api.nvim_echo({
			{ "Failed to clone lazy.nvim:\n", "ErrorMsg" },
			{ out, "WarningMsg" },
			{ "\nPress any key to exit..." },
		}, true, {})
		vim.fn.getchar()
		os.exit(1)
	end
end
vim.opt.rtp:prepend(lazypath)

-- Setup lazy.nvim
require("lazy").setup({
	spec = {
		{ import = "plugins" },
	},
	checker = { enabled = true },
})
```

#### 1. Введение

- **Цель**: Превратить NeoVim в полноценную IDE.
- **Необходимость**: Использование плагинов.
- **Инструмент**: Плагин-менеджер LazyNvim.

#### 2. Установка LazyNvim

- **Шаг 1**: Переход на сайт LazyNvim.
- **Шаг 2**: Создание файла конфигурации `lazy.lua` в папке `core`.
- **Шаг 3**: Копирование конфигурационного кода в `core/lazy.lua`.

#### 3. Настройка Bootstrap

- **Суть**: Проверка и клонирование Lazy с помощью Git.
- **Требование**: Установленный Git версии 2.8 и выше.

#### 4. Дополнительная конфигурация

- **Лидер-ключ**: Предварительно настроен.
- **Цветовая схема**: Установка и настройка.
- **Проверки обновлений**: Настройка автоматических проверок.

#### 5. Импорт плагинов

- **Структура**: Настройка плагинов в папке `lua/plugins`.
- **Инициализация**: Основной файл `init.lua` импортирует Lazy.

#### 6. Установка первого плагина

- **Пример**: Плагин `git-science` для отображения изменений в коде.
- **Процесс**:
    - Создание файла в папке `plugins`.
    - Описание параметров плагина (имя, конфигурация).

#### 7. Завершение установки

- **Инициализация плагина**: С помощью функции `require('...').setup()`.
- **Запуск NeoVim**: Проверка установки плагина.

#### 8. Интерфейс LazyNvim

- **Команда**: `:Lazy` для просмотра установленных плагинов.
- **Возможности**:
    - Управление (установка, обновление, синхронизация).
    - Дебаг плагинов.



### Тема








