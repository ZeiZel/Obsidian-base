## Visual mode и макросы

### Visual Mode

Визуальный режим позволяет нам выделять в своих рамках текст.

![](../_png/Pasted%20image%2020240915182231.png)

#### Типы визуальных режимов

1. **Простой визуальный режим (v)**
    - Активируется клавишей `v`.
    - Текст выделяется при перемещении курсора.
    - Выделенный текст можно удалять, копировать, корректировать.
    - Переход в нормальный режим выполняется клавишей `Escape`.
2. **Режим визуального выделения строк (Shift + v)**
    - Активируется комбинацией `Shift + v`.
    - Выделяются целые строки.
    - Удобен для копирования больших блоков текста.
3. **Визуальный блок-режим (Ctrl + Shift + v)**
    - Активируется комбинацией `Ctrl + Shift + v`.
    - Выделяется прямоугольный блок текста.
    - Полезен для операций с текстом в столбцах.

#### Основные команды в визуальном режиме

- **Копирование (y)**
    - Например, `yy` — копировать строку, `yw` — копировать слово.
- **Удаление (d)**
    - Например, `dw` — удалить слово, `dd` — удалить строку.
- **Корректировка (c)**
    - Например, `cw` — изменить слово.

#### Использование регистров

- При вставке поверх текста удалённый текст попадает в регистр.
- Регистры помогают сохранять текст для последующего использования.
- Можно обратиться к другому регистру для вставки определенного текста.

#### Примеры

1. **Копировать и вставить строку**
    - Выделить строку с помощью `Shift + v`.
    - Копировать строку `y`.
    - Вставить `p`.
2. **Заменить слово**
    - Выделить слово с помощью `v` и перемещения.
    - Вставить новое слово `p`.
3. **Работа с регистрами**
    - Скопировать текст в регистр: `"ayy` (копировать строку в регистр a).
    - Вставить текст из регистра: `"ap` (вставить текст из регистра a).


### Изменение регистра

1. **Отмена изменений (обычный режим vs визуальный режим)**:
    - `U` в обычном режиме — отменяет изменения.
    - `U` в визуальном режиме — имеет другое значение.
2. **Изменение регистра слова**:
    - Для выбора слова:
        - `v` — активация визуального режима.
        - `ve` — выбор слова.
    - Для изменения регистра:
        - `Shift+U` (большая буква) — меняет на верхний регистр.
        - `u` (маленькая буква) — меняет на нижний регистр.
3. **Пример с константами**:
    - Выбор и изменение регистра:
        - `ve`
            - `Shift+U` — для констант, которые должны быть в верхнем регистре.
4. **Использование тильды**:
    - Тильда `~` также меняет регистр, но без дополнительного выделения.
5. **Изменение конкретной буквы**:
    - Для выделения символа:
        - `v` — активация визуального режима.
        - Выбор символа.
    - Для изменения регистра отдельной буквы:
        - Переместить каретку на символ.
        - `Shift+U` — для верхнего регистра.
    - Пример с фразой "Purple School":
        - Меняем `P` и `S`:
            - Переместить каретку на символ.
            - `Shift+U` для верхнего регистра.


### V-Line Mode

#### Основные возможности Visual Line Mode:

1. **Выделение строк**:
    - Нажмите `Shift + V`.
    - Для выделения строк вверх/вниз используйте стрелки.
2. **Операции со строками**:
    - **Удаление**: команда `d`.
    - **Копирование**: команда `y`.
    - **Вставка**: команда `p`.
3. **Перемещение строк**:
    - **Классический метод**:
        1. Удалите строку: `dd`.
        2. Переместитесь в нужное место.
        3. Вставьте строку: `Shift + P`.
    - **Метод с командой** `move`:
        - Включите относительные номера строк: `:set relativenumber`.
        - Перемещение строк:
            - С конкретной строки на первую: `:m1`.
            - Относительно текущей строки: `:m-2` или `:m+10`.
4. **Комбинирование с визуальным выделением**:
    - Выделите строки: `Shift + V`.
    - Введите команду: `:` и затем `m + N` (например, `m + 2` для перемещения на 2 строки вниз).

#### Пример:

1. Выделите две строки с помощью `Shift + V`.
2. Нажмите `:`, затем введите `m + 2` для перемещения на 2 строки вниз.





### V-Block Mode

#### Введение в Визуальный Блочный Режим

- Вход в режим: **Control + Shift + V**
- Направления выделения: вверх, вниз, влево, вправо

#### Основные Особенности

- **Мультикурсор**: Позволяет редактировать несколько строк одновременно
- **Выделение блока**: Создание прямоугольного или квадратного выделения

#### Шаги для Редактирования

1. **Вход в визуальный блок:** Control + Shift + V
2. **Выделение нужного текста**: Нахождение нужного блока текста
3. **Переход в режим редактирования**: Shift + I (важно: просто I не работает)
4. **Внесение изменений**: Например, добавление "ABC"
5. **Применение изменений к выделенным строкам**: Выход из режима вставки

#### Дополнительные Возможности

- Удаление блока текста: Выделить блок → Нажать D
- Вставка текста в несколько строк: Текст вставляется во все строки ниже




### Макросы

#### Введение в Макросы

- Макросы позволяют автоматизировать повторяющиеся действия.
- Это особенно полезно для однотипных задач, которые нужно выполнять многократно.

#### Пример с JavaScript

- Задача: Преобразовать обычные функции в стрелочные функции.
- Исходный формат: `function myFunction() {}`
- Целевой формат: `const myFunction = () => {}`
- Примеры функций можно писать в любом произвольном буфере.

#### Инструкция по Записи Макроса

1. **Начало записи макроса:**
    - Нажмите `Q` для входа в режим записи макроса.
    - Нажмите `Q` второй раз, чтобы выбрать ячейку для записи (например, Q-Q).
2. **Запись последовательности действий:**
    - Все действия выполняемые после начала записи будут включены в макрос.
    - Удалите ключевое слово `function` с помощью команды `CIV` (correct inside word).
    - Добавьте `const` и измените структуру функции:
        - Выйдите из режима редактирования: `Escape`.
        - Найдите первую скобочку и добавьте `=` и `=>`.
        - Выйдите из режима редактирования снова: `Escape`.
3. **Завершение записи макроса:**
    - Нажмите `Q` снова, чтобы остановить запись.

#### Применение Макроса

- Нажмите `@` и затем укажите ячейку макроса, например `@Q`, чтобы применить макрос к текущей функции.