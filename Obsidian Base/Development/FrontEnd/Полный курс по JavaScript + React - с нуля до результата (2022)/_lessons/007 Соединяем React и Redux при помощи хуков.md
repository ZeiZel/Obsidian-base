
–¢–∞–∫ –∂–µ –∫—É–¥–∞ –±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç—ã–º —Å–ø–æ—Å–æ–±–æ–º –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Ä–µ–¥–∞–∫—Å–∞ –∫ —Ä–µ–∞–∫—Ç—É –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ö—É–∫–æ–≤:
- `useSelector` - –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –∏–∑ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ (—Å—Ç–æ—Ä–∞) –Ω—É–∂–Ω–æ–µ –Ω–∞–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ 
- `useDispatch` - –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–æ—Å—Ç—É–ø –∫ —Ñ—É–Ω–∫—Ü–∏–∏ `dispatch`

`Counter.js`
```JS
import { useDispatch, useSelector } from 'react-redux';
import { inc, dec, rnd } from '../actions';

const Counter = () => {
	// —ç—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–∑ —Å—Ç–æ—Ä–∞
	const { counter } = useSelector((state) => state);

	// —ç—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —Ñ—É–Ω–∫—Ü–∏–π-–¥–∏—Å–ø—ç—Ç—á–µ–π
	const dispatch = useDispatch();

	return (
		<div className='wrapper'>
			<h1>{counter}</h1>
			<button className='btn' onClick={() => dispatch(dec())}>
				DEC
			</button>
			<button className='btn' onClick={() => dispatch(inc())}>
				INC
			</button>
			<button className='btn' onClick={() => dispatch(rnd())}>
				RND
			</button>
		</div>
	);
};

export default Counter;
```

![](_png/Pasted%20image%2020230319150927.png)

–û—Ç–ª–∏—á–∏—è `useSelector` –æ—Ç `mapStateToProps`:
- —Ö—É–∫ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å—ë, —á—Ç–æ —É–≥–æ–¥–Ω–æ, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ —Ç–æ, —á—Ç–æ –∏–¥—ë—Ç –Ω–∞ –ø—Ä–æ–ø—Å—ã
- –∫–æ–ª–ª—é—ç–∫ —Ñ—É–Ω–∫—Ü–∏—è –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–¥–µ–ª–∞—Ç—å –≤—Å—ë, —á—Ç–æ —É–≥–æ–¥–Ω–æ —Å –¥–∞–Ω–Ω—ã–º–∏, –Ω–æ –æ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è —á–∏—Å—Ç–æ–π –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π
- –≤ —Å–∞–º–æ –∑–Ω–∞—á–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –≤—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é, –º–æ–∂–µ—Ç –ø–æ–º–µ—â–∞—Ç—å—Å—è —á—Ç–æ —É–≥–æ–¥–Ω–æ (—Å—Ç—Ä–æ–∫–∞, –º–∞—Å—Å–∏–≤, —Ñ—É–Ω–∫—Ü–∏—è –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ)
- –≤ —Ö—É–∫–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Å–≤–æ–π—Å—Ç–≤–æ ownProp, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø—Ä–æ–ø—Å–æ–≤ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è
- –ø—Ä–∏ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–∏ –¥–∏—Å–ø—ç—Ç—á-—Ñ—É–Ω–∫—Ü–∏–∏, —Ö—É–∫ —Å–∞–º –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å –ª–∏ –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –æ–Ω –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç. –¢—É—Ç —É–∂–µ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç –Ω–µ –ø–æ –≤—Å–µ–º—É –æ–±—ä–µ–∫—Ç—É, –∫–∞–∫ –≤ –æ–±—ã—á–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏, –∞ –ø–æ –æ—Ç–¥–µ–ª—å–Ω—ã–º –ø–æ–ª—è–º –æ–±—ä–µ–∫—Ç–∞ (–µ—Å–ª–∏ –º—ã —Å—Ä–∞–∑—É –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –æ–±—ä–µ–∫—Ç, –Ω–æ –µ—Å–ª–∏ –º—ã –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —á–µ—Ä–µ–∑ `return`, —Ç–æ —Ç—É—Ç —É–∂–µ –±—É–¥–µ—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ –≤—Å–µ–º—É –æ–±—ä–µ–∫—Ç—É)
- –¢–∞–∫ –∂–µ —Ö—É–∫ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–µ–π—Ç–∞ –≤ —Å—Ç–æ—Ä–µ –±—É–¥–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –ø–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

–¢–∞–∫ –∂–µ, –∫–æ–≥–¥–∞ –º—ã –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç, —Ç–æ —É –Ω–∞—Å –∫–∞–∂–¥—ã–π —Ä–∞–∑ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å—Å—è –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç, —á—Ç–æ –±—É–¥–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –ø–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞. –ß—Ç–æ–±—ã –∏–∑–±–∞–≤–∏—Ç—å—Å—è –æ—Ç –¥–∞–Ω–Ω–æ–π –æ—à–∏–±–∫–∏, –º–æ–∂–Ω–æ:
- –ø—Ä–æ—Å—Ç–æ –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ö—É–∫–∞ `useSelector` –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å–≤–æ–π—Å—Ç–≤ –∏–∑ —Å—Ç–æ—Ä–∞
- –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é [Reselect](https://react-redux.js.org/api/hooks) –∏–∑ —Å—Ç–æ—Ä–æ–Ω–Ω–µ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
```JS
import React from 'react'
import { useSelector } from 'react-redux'
import { createSelector } from 'reselect'

const selectNumCompletedTodos = createSelector(
  (state) => state.todos,
  (todos) => todos.filter((todo) => todo.completed).length
)

export const CompletedTodosCounter = () => {
  const numCompletedTodos = useSelector(selectNumCompletedTodos)
  return <div>{numCompletedTodos}</div>
}

export const App = () => {
  return (
    <>
      <span>Number of completed todos:</span>
      <CompletedTodosCounter />
    </>
  )
}
```
- –ª–∏–±–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `shallowEqual`:
```JS
import { shallowEqual, useSelector } from 'react-redux'

// later
const selectedData = useSelector(selectorReturningObject, shallowEqual)
```

–ï—Å–ª–∏ –º—ã –≥–æ–≤–æ—Ä–∏–º –ø—Ä–æ —Ö—É–∫ `useDispatch`, —Ç–æ —Ç—É—Ç –Ω—É–∂–Ω–æ —É–ø–æ–º—è–Ω—É—Ç—å, —á—Ç–æ –ø—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ –µ–≥–æ –¥–∞–ª—å—à–µ –ø–æ –∏–µ—Ä–∞—Ä—Ö–∏–∏ –≤ –Ω–∏–∂–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –Ω—É–∂–Ω–æ –æ–±–µ—Ä–Ω—É—Ç—å –µ–≥–æ –≤ `useCallback`, —á—Ç–æ–±—ã –∫–∞–∂–¥—ã–π —Ä–∞–∑ –Ω–µ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–≤–∞–ª—Å—è –¥–∏—Å–ø—ç—Ç—á. –î–µ–ª–æ –≤ —Ç–æ–º, —á—Ç–æ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Å–ø—ç—Ç—á–∞ –±—É–¥–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–µ –∏ —Å–∞–º–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.

```JS
const incrementCounter = useCallback(
	() => dispatch({ type: 'increment-counter' }),
	[dispatch]
)
```

–¢–∞–∫ –∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Ö—É–∫ `useStore`, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤–µ—Å—å –æ–±—ä–µ–∫—Ç —Å—Ç–æ—Ä–∞, –Ω–æ –∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –Ω–µ —Å—Ç–æ–∏—Ç

```JS
import React from 'react'
import { useStore } from 'react-redux'

export const CounterComponent = ({ value }) => {
  const store = useStore()

  // –¢–û–õ–¨–ö–û –ü–†–ò–ú–ï–†! –¢–∞–∫–æ–µ –¥–µ–ª–∞—Ç—å –≤ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–º–µ—Ä–µ –Ω–µ–ª—å–∑—è
  // –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–µ –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—ë–Ω, –µ—Å–ª–∏ —Å—Ç–æ—Ä –±—É–¥–µ—Ç –∏–∑–º–µ–Ω—ë–Ω
  return <div>{store.getState()}</div>
}
```

>[!info] –í –∫–æ–Ω—Ü–µ —Å—Ç–æ–∏—Ç –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ –ø–æ–∫–∞–∑–∞–Ω–Ω—ã–π –≤ –Ω–∞—á–∞–ª–µ –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —Å —Ö—É–∫–∞–º–∏ - —Å—Ç–æ–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ –∫–æ–Ω–µ—á–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç. –ù–µ —Å—Ç–æ–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±–æ—Ä–∞—á–∏–≤–∞—Ç—å —Ö—É–∫–∏ —Ä–µ–¥–∞–∫—Å–∞ –≤ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ö—É–∫–∏.

## Zombie Childrens

-   **zombie children**: –¥–æ—á–µ—Ä–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –æ –∫–æ—Ç–æ—Ä—ã—Ö —Ä–æ–¥–∏—Ç–µ–ª—å –Ω–∏—á–µ–≥–æ –Ω–µ –∑–Ω–∞–µ—Ç
-   **stale props**: –ø—Ä–æ—Ç—É—Ö—à–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ - —Å–≤–æ–π—Å—Ç–≤–∞, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —è–≤–ª—è—é—Ç—Å—è –∞–∫—Ç—É–∞–ª—å–Ω—ã–º–∏ –≤ –¥–∞–Ω–Ω—ã–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏

–ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –¥–∞–∂–µ –Ω–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç —Å–µ–±–µ —á—Ç–æ —ç—Ç–æ —Ç–∞–∫–æ–µ –∏ –∫–æ–≥–¥–∞ —ç—Ç–æ –º–æ–∂–µ—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å.

**zombie children** ‚Äî –¥–∞–≤–Ω—è—è –ø—Ä–æ–±–ª–µ–º–∞ –ø–æ–ø—ã—Ç–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤–Ω–µ—à–Ω–µ–µ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è (`react-redux`) —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ **React**.

> –ü—Ä–æ–±–ª–µ–º–∞ –∫—Ä–æ–µ—Ç—Å—è –≤ –ø–æ—Ä—è–¥–∫–µ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏—è `ComponentDidMount`/`useEffect` —É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ **React** –ø—Ä–∏ –∏—Ö –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –≤ –¥–µ—Ä–µ–≤–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤ –∏–µ—Ä–∞—Ä—Ö–∏—è—Ö —Ä–æ–¥–∏—Ç–µ–ª—å-–¥–µ—Ç–∏, –≤ —Å–∏—Ç—É–∞—Ü–∏–∏, –∫–æ–≥–¥–∞ —ç—Ç–∞ —Å–≤—è–∑–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö —Ç–∏–ø–∞ ‚Äú—Å–ø–∏—Å–æ–∫‚Äù –∏–ª–∏ ‚Äú–¥–µ—Ä–µ–≤–æ‚Äù –∏ —ç—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–æ–¥–ø–∏—Å–∞–Ω—ã –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∏—Å—Ç–æ—á–Ω–∏–∫–µ –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤–Ω–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ **React**.

–î–ª—è –Ω–∞—á–∞–ª–∞ –¥–∞–≤–∞–π—Ç–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º —Ç–∏–ø–∏—á–Ω—ã–π PubSub –æ–±—ä–µ–∫—Ç

```JS
function createStore(reducer) {  
    var state;  
    var listeners = [];  
  
    function getState() {  
        return state;  
    }  
      
    function subscribe(listener) {  
        listeners.push(listener)  
        return function unsubscribe() {  
            var index = listeners.indexOf(listener);  
            listeners.splice(index, 1);  
        }  
    }  
      
    function dispatch(action) {  
        state = reducer(state, action);  
        listeners.forEach(listener => listener(state));  
    }  
  
    dispatch({});  
  
    return { dispatch, subscribe, getState };  
}
```

–ì–ª—è–¥—è –Ω–∞ listeners –º—ã –¥–æ–ª–∂–Ω—ã –ø–æ–Ω–∏–º–∞—Ç—å –æ–¥–Ω–æ: —Ç–∞–∫ –∫–∞–∫ —ç–ª–µ–º–µ–Ω—Ç—ã –º–∞—Å—Å–∏–≤–∞ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Ç–æ–º –ø–æ—Ä—è–¥–∫–µ –≤ –∫–æ—Ç–æ—Ä–æ–º –æ–Ω–∏ –¥–æ–±–∞–≤–ª—è–ª–∏—Å—å ‚Äî¬†**–∫–æ–ª–ª–±—ç–∫–∏ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ –≤—ã–∑—ã–≤–∞—é—Ç—Å—è —Ä–æ–≤–Ω–æ –≤ —Ç–æ–º –ø–æ—Ä—è–¥–∫–µ, –≤ –∫–æ—Ç–æ—Ä–æ–º –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–∏ –ø–æ–¥–ø–∏—Å–∫–∏.**

–¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º –≤ –∫–∞–∫–æ–º –ø–æ—Ä—è–¥–∫–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤ –∏–µ—Ä–∞—Ä—Ö–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Ä–æ–¥–∏—Ç–µ–ª—å-–¥–µ—Ç–∏:

```JSX
<A>  
    <B />  
    <C />  
</A>
```

–ï—Å–ª–∏ –∫–∞–∂–¥–æ–º—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É –≤ ComponentDidMount –¥–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å –≤ –∫–æ–Ω—Å–æ–ª—å –∏–º–µ–Ω–∏ –º–æ–Ω—Ç–∏—Ä—É–µ–º–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, —Ç–æ –º—ã —É–≤–∏–¥–∏–º —Å–ª–µ–¥—É—é—â–µ–µ:

mounting component B  
mounting component C  
mounting component A

**–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ**: —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ê –º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –ø–æ—Å–ª–µ —Å–≤–æ–∏—Ö –¥–µ—Ç–µ–π (–µ–≥–æ –º–µ—Ç–æ–¥ ComponentDidMount –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–º)!

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è redux –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤:

```JS
state = {  
  list: [  
    1: { id: 1, title: 'Component1', text: '...' },  
    2: { id: 2, title: 'Component2', text: '...' }  
  }  
};  
  
const List = ({ list }) => {  
  return list.map(item =>   
      <ListItemContainer id={item.id} title={item.title} />);  
}  
  
const ListContainer = connect()(List);
```

–ï—Å–ª–∏ –≤ –∫–∞–∂–¥–æ–º –∏–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –≤ –º–µ—Ç–æ–¥–µ ComponentDidMount –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ–¥–ø–∏—Å–∫–∞ subscribe –Ω–∞ –æ–ø–æ–≤–µ—â–µ–Ω–∏–µ –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö, —Ç–æ –ø—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∏—Å—Ç–æ—á–Ω–∏–∫–µ –¥–∞–Ω–Ω—ã—Ö —Å–Ω–∞—á–∞–ª–∞ –±—É–¥—É—Ç –≤—ã–∑–≤–∞–Ω—ã –∫–æ–ª–ª–±–µ–∫–∏ —É –¥–æ—á–µ—Ä–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏ –ª–∏—à—å –∑–∞—Ç–µ–º ‚Äî —É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞-—Ä–æ–¥–∏—Ç–µ–ª—è.

–¢–µ–ø–µ—Ä—å –ø—Ä–µ–¥—Å—Ç–∞–≤–∏–º, —á—Ç–æ –≤ –∏—Å—Ç–æ—á–Ω–∏–∫–µ –¥–∞–Ω–Ω—ã—Ö –º—ã —É–¥–∞–ª–∏–ª–∏ –¥–∞–Ω–Ω—ã–µ:

`1: { id: 1, title: 'Component1', text: '...' },`

–ü–µ—Ä–≤—ã–º –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω –∫–æ–ª–ª–±—ç–∫ –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ ListItemContainer —Å id=1 (—Ç–∞–∫ –∫–∞–∫ –æ–Ω –¥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–≤—ã–º –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–ª—Å—è –∏ –ø–µ—Ä–≤—ã–º –ø–æ–¥–ø–∏—Å–∞–ª—Å—è), –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ–π–¥–µ—Ç –≤ –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö –∑–∞ –¥–∞–Ω–Ω—ã–º–∏ –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏, –∞ –¥–∞–Ω–Ω—ã—Ö —Ç–∞–º –¥–ª—è –Ω–µ–≥–æ —É–∂–µ –Ω–µ—Ç!  
–ü–æ–ø—ã—Ç–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö, –ø—É—Ç–µ–º –æ–±—Ä–∞—â–µ–Ω–∏—è

`const { someProp } = store.list[1];`

–ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –∫—Ä–∞—Ö—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –æ—à–∏–±–∫–æ–π —Ç–∏–ø–∞¬†_‚ÄúUncaught TypeError: Cannot read property ‚Äò1‚Äô of undefined.‚Äù_¬†–∏–ª–∏ –ø–æ–¥–æ–±–Ω–æ–π (–æ—à–∏–±–∫–∏ –º–æ–∂–µ—Ç –∏ –Ω–µ –±—ã—Ç—å –µ—Å–ª–∏ —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç –≤ —Å—Ç–æ—Ä–µ, –Ω–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤ –¥–µ—Ä–µ–≤–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏ –æ–Ω ‚Äî –∑–æ–º–±–∏);

–û–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è, —á—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å `id=1` –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –¥–æ—á–µ—Ä–Ω–∏–º –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ `ListContainer`, —Ö–æ—Ç—è –Ω–∞ –º–æ–º–µ–Ω—Ç –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∏—Å—Ç–æ—á–Ω–∏–∫–µ –¥–∞–Ω–Ω—ã—Ö –æ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –¥–µ—Ä–µ–≤–µ DOM‚Äî¬†**–∑–æ–º–±–∏-—Ä–µ–±–µ–Ω–æ–∫**

–í –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è —ç—Ç–∏ –±—Ä–æ—à–µ–Ω–Ω—ã–µ –¥–æ—á–µ—Ä–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–æ–≥—É—Ç –æ—Å—Ç–∞—Ç—å—Å—è –≤ –¥–µ—Ä–µ–≤–µ –¥–∞–∂–µ –ø–æ—Å–ª–µ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–∏ —Ä–æ–¥–∏—Ç–µ–ª—è.

–° **zombie children** —Ä–∞–∑–æ–±—Ä–∞–ª–∏—Å—å. –¢–µ–ø–µ—Ä—å –ø–æ—Ä–∞ –≤—ã—è—Å–Ω–∏—Ç—å —á—Ç–æ —Ç–∞–∫–æ–µ stale props.

–†–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—è –ø–æ—Å–ª–µ–¥–Ω–∏–π –ø—Ä–∏–º–µ—Ä: –¥–∞–≤–∞–π—Ç–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏–º —á—Ç–æ –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–∞ —Å `id=1` –º—ã –≤ –∏—Å—Ç–æ—á–Ω–∏–∫–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–º–µ–Ω—è–ª–∏ `title`. –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç?

–°—Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ–ª–ª–±—ç–∫ –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ `ListContainer` —Å `id=1`, –æ–Ω –Ω–∞—á–Ω–µ—Ç –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫—É –∏ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç title, –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª –µ–º—É –ø–µ—Ä–µ–¥–∞–Ω –≤ —Å–≤–æ–π—Å—Ç–≤–∞—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º ListContainer, –¥–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –¥–∞–Ω–Ω—ã—Ö ‚Äî `title` –≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ —è–≤–ª—è–µ—Ç—Å—è¬†**stale props**!

–ü–æ—á–µ–º—É –∂–µ –º–Ω–æ–≥–∏–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ —ç—Ç–æ–≥–æ –Ω–µ –∑–Ω–∞—é—Ç? –ü–æ—Ç–æ–º—É —á—Ç–æ —ç—Ç–∏ –ø—Ä–æ–±–ª–µ–º—ã –æ—Ç –Ω–∏—Ö —Ç—â–∞—Ç–µ–ª—å–Ω–æ —Å–∫—Ä—ã–≤–∞—é—Ç!! üòä

–ö –ø—Ä–∏–º–µ—Ä—É, —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ react-redux –ø–æ—Å—Ç—É–ø–∞—é—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º ‚Äî –æ–±–æ—Ä–∞—á–∏–≤–∞—é—Ç –æ—Ç—Ä–∏—Å–æ–≤–∫—É –¥–æ—á–µ—Ä–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤ `try‚Ä¶catch`, –ø—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –æ—à–∏–±–∫–∏ ‚Äî –æ–Ω–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç —Å—á–µ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫ –≤ 1 –∏ –≤—ã–∑—ã–≤–∞—é—Ç –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫—É —Ä–æ–¥–∏—Ç–µ–ª—è. –ï—Å–ª–∏ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–∏ —Ä–æ–¥–∏—Ç–µ–ª—è –∏ –ø–æ—Å–ª–µ–¥—É—é—â–µ–π –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–µ –¥–æ—á–µ—Ä–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–Ω–æ–≤–∞ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—à–∏–±–∫–∞ –∏ —Å—á–µ—Ç—á–∏–∫ `> 0` ‚Äî –∑–Ω–∞—á–∏—Ç —ç—Ç–æ –Ω–µ **zombie children**, –∞ —á—Ç–æ-—Ç–æ –±–æ–ª–µ–µ —Å–µ—Ä—å–µ–∑–Ω–æ–µ, –ø–æ—ç—Ç–æ–º—É –æ–Ω–∏ –ø—Ä–æ–∫–∏–¥—ã–≤–∞—é—Ç —ç—Ç—É –æ—à–∏–±–∫—É –Ω–∞—Ä—É–∂—É. –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –Ω–µ –ø–æ–≤—Ç–æ—Ä–∏–ª–∞—Å—å ‚Äî —ç—Ç–æ –±—ã–ª –∑–æ–º–±–∏-—Ä–µ–±–µ–Ω–æ–∫ –∏ –ø–æ—Å–ª–µ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–∏ —Ä–æ–¥–∏—Ç–µ–ª—è –æ–Ω –ø—Ä–æ–ø–∞–¥–µ—Ç.  
–ï—Å—Ç—å –∏ –¥—Ä—É–≥–æ–π –≤–∞—Ä–∏–∞–Ω—Ç ‚Äî –∏–∑–º–µ–Ω—è—é—Ç –ø–æ—Ä—è–¥–æ–∫ –ø–æ–¥–ø–∏—Å–∫–∏ —Ç–∞–∫, —á—Ç–æ–±—ã —Ä–æ–¥–∏—Ç–µ–ª—å –≤—Å–µ–≥–¥–∞ –ø–æ–¥–ø–∏—Å—ã–≤–∞–ª—Å—è –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–Ω—å—à–µ —á–µ–º –¥–æ—á–µ—Ä–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.

–ù–æ, –∫ —Å–æ–∂–∞–ª–µ–Ω–∏—é, –¥–∞–∂–µ —Ç–∞–∫–∏–µ –ø–æ–ø—ã—Ç–∫–∏ –Ω–µ –≤—Å–µ–≥–¥–∞ —Å–ø–∞—Å–∞—é—Ç ‚Äî –≤ react-redux –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞—é—Ç, —á—Ç–æ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –∏—Ö —Ö—É–∫–æ–≤ –≤—Å–µ –∂–µ –º–æ–≥—É—Ç –≤–æ–∑–Ω–∏–∫–∞—Ç—å —É–∫–∞–∑–∞–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Å¬†[zombie children & stale props](https://react-redux.js.org/7.1/api/hooks#stale-props-and-zombie-children), —Ç.–∫. —É –Ω–∏—Ö –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏—è —Å—Ç–æ—Ä–∞ –≤ —Ö—É–∫–µ useEffect (—á—Ç–æ —Ä–∞–≤–Ω–æ–∑–Ω–∞—á–Ω–æ componentDidMount), –Ω–æ –≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç HOC–∞ connect - –Ω–µ –∫–æ–º—É –∏—Å–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ—Ä—è–¥–æ–∫ –ø–æ–¥–ø–∏—Å–∫–∏ –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏.

> –ü—Ä–∏–º–µ—Ä —Å [zombie children](https://codesandbox.io/s/42164qln37?file=/src/index.js)

–í–æ –∏–∑–±–µ–∂–∞–Ω–∏–µ —ç—Ç–∏—Ö –ø—Ä–æ–±–ª–µ–º —Å–æ–≤–µ—Ç—É—é—Ç:

-   –ù–µ –ø–æ–ª–∞–≥–∞—Ç—å—Å—è –Ω–∞ —Å–≤–æ–π—Å—Ç–≤–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≤ —Å–µ–ª–µ–∫—Ç–æ—Ä–µ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –∏—Å—Ç–æ—á–Ω–∏–∫–∞
-   –í —Å–ª—É—á–∞–µ –µ—Å–ª–∏ –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–≤–æ–π—Å—Ç–≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –Ω–µ –≤–æ–∑–º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ ‚Äî –ø—ã—Ç–∞–π—Ç–µ—Å—å –≤—ã–±–∏—Ä–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ: –≤–º–µ—Å—Ç–æ¬†`state.todos[props.id].name`¬†–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ¬†`todo = state.todos[props.id`¬†–¥–ª—è –Ω–∞—á–∞–ª–∞ –∏ –∑–∞—Ç–µ–º –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ¬†`todo`¬†–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ¬†`todo.name`
-   —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ø–æ—è–≤–ª–µ–Ω–∏—è `stale props `‚Äî –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ –≤ –¥–æ—á–µ—Ä–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Ç–æ–ª—å–∫–æ –∫–ª—é—á–µ–≤—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞, –ø–æ –∫–æ—Ç–æ—Ä—ã–º –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –≤—ã–±–æ—Ä–∫–∞ –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Å–≤–æ–π—Å—Ç–≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∏–∑ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ ‚Äî –≤—Å–µ —Å–≤–æ–π—Å—Ç–≤–∞ –≤—Å–µ–≥–¥–∞ –±—É–¥—É—Ç —Å–≤–µ–∂–∏–º–∏

–ü—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ —Å–≤–æ–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç **React**, —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É –≤—Å–µ–≥–¥–∞ –Ω—É–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å –æ–± –æ–±—Ä–∞—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–æ–±—ã—Ç–∏—è –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ `ComponentDidMount` —Ä–æ–¥–∏—Ç–µ–ª—è –∏ –¥–µ—Ç–µ–π –≤ —Å–ª—É—á–∞–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–æ–¥–ø–∏—Å–æ–∫ –Ω–∞ —Å–æ–±—ã—Ç–∏—è –æ–¥–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö, –∫–æ–≥–¥–∞ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤–Ω–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ **React**, —á—Ç–æ–±—ã –Ω–µ –≤–æ–∑–Ω–∏–∫–∞–ª–∏ –æ—à–∏–±–∫–∏ –¥–∞–Ω–Ω–æ–≥–æ —Ä–æ–¥–∞.

–ù–æ –ª—É—á—à–∏–π —Å–æ–≤–µ—Ç ‚Äî —Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è **React** –≤ —Ö—É–∫–µ `useState` –∏–ª–∏ –≤ `Context /useContext`‚Äî –≤—ã –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Å—Ç–æ–ª–∫–Ω–µ—Ç–µ—Å—å —Å –≤—ã—à–µ–æ–ø–∏—Å–∞–Ω–Ω—ã–º–∏ –ø—Ä–æ–±–ª–µ–º–∞–º–∏ —Ç.–∫. –≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö –≤—ã–∑–æ–≤ —ç—Ç–∏—Ö —Ö—É–∫–æ–≤ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ ‚Äî —Å–Ω–∞—á–∞–ª–∞ —É —Ä–æ–¥–∏—Ç–µ–ª—è, –∞ –∑–∞—Ç–µ–º ‚Äî —É –¥–µ—Ç–µ–π.
